<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Fri Jan 21 14:41:08 EST 2011 -->
<TITLE>
HealthMonitor (Shoal Group Management Service Framework)
</TITLE>

<META NAME="date" CONTENT="2011-01-21">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HealthMonitor (Shoal Group Management Service Framework)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/HealthMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/enterprise/mgmt/HealthMessage.Entry.html" title="class in com.sun.enterprise.mgmt"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.PeerMachineConnectionResult.html" title="class in com.sun.enterprise.mgmt"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sun/enterprise/mgmt/HealthMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HealthMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.enterprise.mgmt</FONT>
<BR>
Class HealthMonitor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.sun.enterprise.mgmt.HealthMonitor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html" title="interface in com.sun.enterprise.mgmt.transport">MessageListener</A>, java.lang.Runnable, java.util.EventListener</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>HealthMonitor</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html" title="interface in com.sun.enterprise.mgmt.transport">MessageListener</A>, java.lang.Runnable</DL>
</PRE>

<P>
HealthMonitor utilizes MasterNode to determine self designation. All nodes
 cache other node's states, and can act as a master node at any given
 point in time.  The intention behind the designation is that no node other than
 the master node should determine collective state and communicate it to
 group members.
 <p/>
 TODO: Convert the InDoubt Peer Determination and Failure Verification into
 Callable FutureTask using java.util.concurrent
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.PeerMachineConnectionResult.html" title="class in com.sun.enterprise.mgmt">HealthMonitor.PeerMachineConnectionResult</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is for designating myself in network isolation
 if my network interface is not up.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#DEFAULT_MEMBERSTATE_TIMEOUT">DEFAULT_MEMBERSTATE_TIMEOUT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#outstandingFailureToVerify">outstandingFailureToVerify</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#HealthMonitor(com.sun.enterprise.mgmt.ClusterManager, long, int, long, long, int)">HealthMonitor</A></B>(<A HREF="../../../../com/sun/enterprise/mgmt/ClusterManager.html" title="class in com.sun.enterprise.mgmt">ClusterManager</A>&nbsp;manager,
              long&nbsp;timeout,
              int&nbsp;maxMissedBeats,
              long&nbsp;verifyTimeout,
              long&nbsp;failureDetectionTCPTimeout,
              int&nbsp;failureDetectionTCPPort)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor for the HealthMonitor object</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#addHealthEntryIfMissing(com.sun.enterprise.ee.cms.impl.base.SystemAdvertisement)">addHealthEntryIfMissing</A></B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/SystemAdvertisement.html" title="interface in com.sun.enterprise.ee.cms.impl.base">SystemAdvertisement</A>&nbsp;adv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#announceWatchdogObservedFailure(java.lang.String)">announceWatchdogObservedFailure</A></B>(java.lang.String&nbsp;failedMemberToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getIndoubtDuration()">getIndoubtDuration</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A member is considered INDOUBT when a heartbeat has not been received in this amout of time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getMemberState(com.sun.enterprise.ee.cms.impl.base.PeerID, long, long)">getMemberState</A></B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
               long&nbsp;threshold,
               long&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getMemberStateFromHeartBeat(com.sun.enterprise.ee.cms.impl.base.PeerID, long)">getMemberStateFromHeartBeat</A></B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
                            long&nbsp;threshold)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getMemberStateViaLWR(com.sun.enterprise.ee.cms.impl.base.PeerID, long)">getMemberStateViaLWR</A></B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
                     long&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.sun.enterprise.mgmt.HealthMonitor.MsgSendStats</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getMsgSendStats(java.lang.String)">getMsgSendStats</A></B>(java.lang.String&nbsp;memberName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#getType()">getType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the message type which <A HREF="../../../../com/sun/enterprise/mgmt/transport/Message.html" title="interface in com.sun.enterprise.mgmt.transport"><CODE>Message</CODE></A> is supporting
 i.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#isConnected(com.sun.enterprise.mgmt.HealthMessage.Entry)">isConnected</A></B>(<A HREF="../../../../com/sun/enterprise/mgmt/HealthMessage.Entry.html" title="class in com.sun.enterprise.mgmt">HealthMessage.Entry</A>&nbsp;entry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#receiveMessageEvent(com.sun.enterprise.mgmt.transport.MessageEvent)">receiveMessageEvent</A></B>(<A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageEvent.html" title="class in com.sun.enterprise.mgmt.transport">MessageEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processing a <A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageEvent.html" title="class in com.sun.enterprise.mgmt.transport"><CODE>MessageEvent</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#reportJoinedAndReadyState()">reportJoinedAndReadyState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main processing method for the HealthMonitor object</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.html#setJoinedAndReadyReceived()">setJoinedAndReadyReceived</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="outstandingFailureToVerify"><!-- --></A><H3>
outstandingFailureToVerify</H3>
<PRE>
public volatile boolean <B>outstandingFailureToVerify</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DEFAULT_MEMBERSTATE_TIMEOUT"><!-- --></A><H3>
DEFAULT_MEMBERSTATE_TIMEOUT</H3>
<PRE>
public static final long <B>DEFAULT_MEMBERSTATE_TIMEOUT</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.sun.enterprise.mgmt.HealthMonitor.DEFAULT_MEMBERSTATE_TIMEOUT">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="HealthMonitor(com.sun.enterprise.mgmt.ClusterManager, long, int, long, long, int)"><!-- --></A><H3>
HealthMonitor</H3>
<PRE>
public <B>HealthMonitor</B>(<A HREF="../../../../com/sun/enterprise/mgmt/ClusterManager.html" title="class in com.sun.enterprise.mgmt">ClusterManager</A>&nbsp;manager,
                     long&nbsp;timeout,
                     int&nbsp;maxMissedBeats,
                     long&nbsp;verifyTimeout,
                     long&nbsp;failureDetectionTCPTimeout,
                     int&nbsp;failureDetectionTCPPort)</PRE>
<DL>
<DD>Constructor for the HealthMonitor object
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>manager</CODE> - the ClusterManager<DD><CODE>maxMissedBeats</CODE> - Maximum retries before failure<DD><CODE>verifyTimeout</CODE> - timeout in milliseconds that the health monitor
                       waits before finalizing that the in doubt peer is dead.<DD><CODE>timeout</CODE> - in milliseconds that the health monitor waits before
                       retrying an indoubt peer's availability.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getIndoubtDuration()"><!-- --></A><H3>
getIndoubtDuration</H3>
<PRE>
public long <B>getIndoubtDuration</B>()</PRE>
<DL>
<DD>A member is considered INDOUBT when a heartbeat has not been received in this amout of time.  (in milliseconds.)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="receiveMessageEvent(com.sun.enterprise.mgmt.transport.MessageEvent)"><!-- --></A><H3>
receiveMessageEvent</H3>
<PRE>
public void <B>receiveMessageEvent</B>(<A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageEvent.html" title="class in com.sun.enterprise.mgmt.transport">MessageEvent</A>&nbsp;event)
                         throws <A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageIOException.html" title="class in com.sun.enterprise.mgmt.transport">MessageIOException</A></PRE>
<DL>
<DD>Processing a <A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageEvent.html" title="class in com.sun.enterprise.mgmt.transport"><CODE>MessageEvent</CODE></A>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html#receiveMessageEvent(com.sun.enterprise.mgmt.transport.MessageEvent)">receiveMessageEvent</A></CODE> in interface <CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html" title="interface in com.sun.enterprise.mgmt.transport">MessageListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - a received message event
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageIOException.html" title="class in com.sun.enterprise.mgmt.transport">MessageIOException</A></CODE> - if I/O error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getType()"><!-- --></A><H3>
getType</H3>
<PRE>
public int <B>getType</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html#getType()">MessageListener</A></CODE></B></DD>
<DD>Returns the message type which <A HREF="../../../../com/sun/enterprise/mgmt/transport/Message.html" title="interface in com.sun.enterprise.mgmt.transport"><CODE>Message</CODE></A> is supporting
 i.g. <A HREF="../../../../com/sun/enterprise/mgmt/transport/Message.html#TYPE_CLUSTER_MANAGER_MESSAGE"><CODE>Message.TYPE_CLUSTER_MANAGER_MESSAGE</CODE></A> or <A HREF="../../../../com/sun/enterprise/mgmt/transport/Message.html#TYPE_HEALTH_MONITOR_MESSAGE"><CODE>Message.TYPE_HEALTH_MONITOR_MESSAGE</CODE></A>'s integer value or etc...
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html#getType()">getType</A></CODE> in interface <CODE><A HREF="../../../../com/sun/enterprise/mgmt/transport/MessageListener.html" title="interface in com.sun.enterprise.mgmt.transport">MessageListener</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the message type about which this listener is concerned</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>Main processing method for the HealthMonitor object
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMemberState(com.sun.enterprise.ee.cms.impl.base.PeerID, long, long)"><!-- --></A><H3>
getMemberState</H3>
<PRE>
public java.lang.String <B>getMemberState</B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
                                       long&nbsp;threshold,
                                       long&nbsp;timeout)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>peerID</CODE> - <DD><CODE>threshold</CODE> - is a positive value if the user wants to look at the caller's local
 cache to get the state<DD><CODE>timeout</CODE> - is a positive value if the user desires to make a network call directly to the
 member whose state it wants
 if both the above parameters are specified, then fisrt attempt is to get the state from the local
 cache. If it comes back as UNKNOWN, then another attempt is made via LWR multicast to get the state
 directly from the concerned member.
<DT><B>Returns:</B><DD>state</DL>
</DD>
</DL>
<HR>

<A NAME="getMemberStateFromHeartBeat(com.sun.enterprise.ee.cms.impl.base.PeerID, long)"><!-- --></A><H3>
getMemberStateFromHeartBeat</H3>
<PRE>
public java.lang.String <B>getMemberStateFromHeartBeat</B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
                                                    long&nbsp;threshold)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMemberStateViaLWR(com.sun.enterprise.ee.cms.impl.base.PeerID, long)"><!-- --></A><H3>
getMemberStateViaLWR</H3>
<PRE>
public java.lang.String <B>getMemberStateViaLWR</B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/PeerID.html" title="class in com.sun.enterprise.ee.cms.impl.base">PeerID</A>&nbsp;peerID,
                                             long&nbsp;timeout)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addHealthEntryIfMissing(com.sun.enterprise.ee.cms.impl.base.SystemAdvertisement)"><!-- --></A><H3>
addHealthEntryIfMissing</H3>
<PRE>
public boolean <B>addHealthEntryIfMissing</B>(<A HREF="../../../../com/sun/enterprise/ee/cms/impl/base/SystemAdvertisement.html" title="interface in com.sun.enterprise.ee.cms.impl.base">SystemAdvertisement</A>&nbsp;adv)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reportJoinedAndReadyState()"><!-- --></A><H3>
reportJoinedAndReadyState</H3>
<PRE>
public void <B>reportJoinedAndReadyState</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isConnected(com.sun.enterprise.mgmt.HealthMessage.Entry)"><!-- --></A><H3>
isConnected</H3>
<PRE>
public boolean <B>isConnected</B>(<A HREF="../../../../com/sun/enterprise/mgmt/HealthMessage.Entry.html" title="class in com.sun.enterprise.mgmt">HealthMessage.Entry</A>&nbsp;entry)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="announceWatchdogObservedFailure(java.lang.String)"><!-- --></A><H3>
announceWatchdogObservedFailure</H3>
<PRE>
public void <B>announceWatchdogObservedFailure</B>(java.lang.String&nbsp;failedMemberToken)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setJoinedAndReadyReceived()"><!-- --></A><H3>
setJoinedAndReadyReceived</H3>
<PRE>
public void <B>setJoinedAndReadyReceived</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMsgSendStats(java.lang.String)"><!-- --></A><H3>
getMsgSendStats</H3>
<PRE>
public com.sun.enterprise.mgmt.HealthMonitor.MsgSendStats <B>getMsgSendStats</B>(java.lang.String&nbsp;memberName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/HealthMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/enterprise/mgmt/HealthMessage.Entry.html" title="class in com.sun.enterprise.mgmt"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/enterprise/mgmt/HealthMonitor.PeerMachineConnectionResult.html" title="class in com.sun.enterprise.mgmt"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sun/enterprise/mgmt/HealthMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HealthMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright 2011 Oracle, Inc. All rights reserved.                  Use is subject to license terms.
</BODY>
</HTML>
